{"ast":null,"code":"import { firestore } from \"../../firebase\";\nexport const loadCategoryPage = (category, onSuccess, onError) => {\n  return (dispatch, getstate) => {\n    firestore.collection(\"CATEGORIES\").document(category).collection(\"TOP_DEALS\").get().then(querySnapshot => {\n      let pagedata = [];\n\n      if (!querySnapshot.empty) {\n        console.log(querySnapshot);\n        querySnapshot.forEach(doc => {\n          pagedata.push(doc.data());\n        });\n        dispatch({\n          type: \"LOAD_PAGE\",\n          payload: pagedata\n        });\n        onSuccess();\n      }\n    }).catch(error => {\n      console.log(error);\n      onError();\n    });\n  };\n};","map":{"version":3,"sources":["G:/CSE299/KinteChaiAdmin/Kinte Chai Admin/kintechai-admin/src/Components/Actions/categoryPageActions.js"],"names":["firestore","loadCategoryPage","category","onSuccess","onError","dispatch","getstate","collection","document","get","then","querySnapshot","pagedata","empty","console","log","forEach","doc","push","data","type","payload","catch","error"],"mappings":"AAAA,SAASA,SAAT,QAA0B,gBAA1B;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,KAAkC;AAChE,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7BN,IAAAA,SAAS,CACNO,UADH,CACc,YADd,EAEGC,QAFH,CAEYN,QAFZ,EAGGK,UAHH,CAGc,WAHd,EAIGE,GAJH,GAKGC,IALH,CAKSC,aAAD,IAAmB;AACvB,UAAIC,QAAQ,GAAG,EAAf;;AACA,UAAI,CAACD,aAAa,CAACE,KAAnB,EAA0B;AACxBC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAZ;AACAA,QAAAA,aAAa,CAACK,OAAd,CAAuBC,GAAD,IAAS;AAC7BL,UAAAA,QAAQ,CAACM,IAAT,CAAcD,GAAG,CAACE,IAAJ,EAAd;AACD,SAFD;AAGAd,QAAAA,QAAQ,CAAC;AAAEe,UAAAA,IAAI,EAAE,WAAR;AAAqBC,UAAAA,OAAO,EAAET;AAA9B,SAAD,CAAR;AACAT,QAAAA,SAAS;AACV;AACF,KAfH,EAgBGmB,KAhBH,CAgBUC,KAAD,IAAW;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACAnB,MAAAA,OAAO;AACR,KAnBH;AAoBD,GArBD;AAsBD,CAvBM","sourcesContent":["import { firestore } from \"../../firebase\";\r\n\r\nexport const loadCategoryPage = (category, onSuccess, onError) => {\r\n  return (dispatch, getstate) => {\r\n    firestore\r\n      .collection(\"CATEGORIES\")\r\n      .document(category)\r\n      .collection(\"TOP_DEALS\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let pagedata = [];\r\n        if (!querySnapshot.empty) {\r\n          console.log(querySnapshot);\r\n          querySnapshot.forEach((doc) => {\r\n            pagedata.push(doc.data());\r\n          });\r\n          dispatch({ type: \"LOAD_PAGE\", payload: pagedata });\r\n          onSuccess();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        onError();\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}