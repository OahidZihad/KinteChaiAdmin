{"ast":null,"code":"import { firestore } from \"../../firebase\";\nexport const loadCategoryPage = (category, onSuccess, onError) => {\n  return (dispatch, getstate) => {\n    firestore.collection(\"CATEGORIES\").doc(category).collection(\"TOP_DEALS\").orderBy(\"index\").get().then(querySnapshot => {\n      let pagedata = [];\n\n      if (!querySnapshot.empty) {\n        querySnapshot.forEach(doc => {\n          pagedata.push(doc.data());\n        });\n      }\n\n      dispatch({\n        type: \"LOAD_PAGE\",\n        payload: pagedata,\n        category\n      });\n      onSuccess();\n    }).catch(error => {\n      console.log(error);\n      onError();\n    });\n  };\n};","map":{"version":3,"sources":["G:/CSE299/KinteChaiAdmin/Kinte Chai Admin/kintechai-admin/src/Components/Actions/categoryPageActions.js"],"names":["firestore","loadCategoryPage","category","onSuccess","onError","dispatch","getstate","collection","doc","orderBy","get","then","querySnapshot","pagedata","empty","forEach","push","data","type","payload","catch","error","console","log"],"mappings":"AAAA,SAASA,SAAT,QAA0B,gBAA1B;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,KAAkC;AAChE,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7BN,IAAAA,SAAS,CACNO,UADH,CACc,YADd,EAEGC,GAFH,CAEON,QAFP,EAGGK,UAHH,CAGc,WAHd,EAIGE,OAJH,CAIW,OAJX,EAKGC,GALH,GAMGC,IANH,CAMSC,aAAD,IAAmB;AACvB,UAAIC,QAAQ,GAAG,EAAf;;AACA,UAAI,CAACD,aAAa,CAACE,KAAnB,EAA0B;AACxBF,QAAAA,aAAa,CAACG,OAAd,CAAuBP,GAAD,IAAS;AAC7BK,UAAAA,QAAQ,CAACG,IAAT,CAAcR,GAAG,CAACS,IAAJ,EAAd;AACD,SAFD;AAGD;;AACDZ,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAEN,QAA9B;AAAwCX,QAAAA;AAAxC,OAAD,CAAR;AACAC,MAAAA,SAAS;AACV,KAfH,EAgBGiB,KAhBH,CAgBUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAjB,MAAAA,OAAO;AACR,KAnBH;AAoBD,GArBD;AAsBD,CAvBM","sourcesContent":["import { firestore } from \"../../firebase\";\r\n\r\nexport const loadCategoryPage = (category, onSuccess, onError) => {\r\n  return (dispatch, getstate) => {\r\n    firestore\r\n      .collection(\"CATEGORIES\")\r\n      .doc(category)\r\n      .collection(\"TOP_DEALS\")\r\n      .orderBy(\"index\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let pagedata = [];\r\n        if (!querySnapshot.empty) {\r\n          querySnapshot.forEach((doc) => {\r\n            pagedata.push(doc.data());\r\n          });\r\n        }\r\n        dispatch({ type: \"LOAD_PAGE\", payload: pagedata, category });\r\n        onSuccess();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        onError();\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}