{"ast":null,"code":"import { firestore } from \"../../firebase\";\nexport const loadCategoryPage = (category, onSuccess, onError) => {\n  return (dispatch, getstate) => {\n    firestore.collection(\"CATEGORIES\").doc(category).collection(\"TOP_DEALS\").get().then(querySnapshot => {\n      let pagedata = [];\n\n      if (!querySnapshot.empty) {\n        querySnapshot.forEach(doc => {\n          pagedata.push(doc.data());\n        });\n        dispatch({\n          type: \"LOAD_PAGE\",\n          payload: pagedata,\n          category\n        });\n        onSuccess();\n      }\n    }).catch(error => {\n      console.log(error);\n      onError();\n    });\n  };\n};","map":{"version":3,"sources":["G:/CSE299/KinteChaiAdmin/Kinte Chai Admin/kintechai-admin/src/Components/Actions/categoryPageActions.js"],"names":["firestore","loadCategoryPage","category","onSuccess","onError","dispatch","getstate","collection","doc","get","then","querySnapshot","pagedata","empty","forEach","push","data","type","payload","catch","error","console","log"],"mappings":"AAAA,SAASA,SAAT,QAA0B,gBAA1B;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,KAAkC;AAChE,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7BN,IAAAA,SAAS,CACNO,UADH,CACc,YADd,EAEGC,GAFH,CAEON,QAFP,EAGGK,UAHH,CAGc,WAHd,EAIGE,GAJH,GAKGC,IALH,CAKSC,aAAD,IAAmB;AACvB,UAAIC,QAAQ,GAAG,EAAf;;AACA,UAAI,CAACD,aAAa,CAACE,KAAnB,EAA0B;AACxBF,QAAAA,aAAa,CAACG,OAAd,CAAuBN,GAAD,IAAS;AAC7BI,UAAAA,QAAQ,CAACG,IAAT,CAAcP,GAAG,CAACQ,IAAJ,EAAd;AACD,SAFD;AAGAX,QAAAA,QAAQ,CAAC;AAAEY,UAAAA,IAAI,EAAE,WAAR;AAAqBC,UAAAA,OAAO,EAAEN,QAA9B;AAAwCV,UAAAA;AAAxC,SAAD,CAAR;AACAC,QAAAA,SAAS;AACV;AACF,KAdH,EAeGgB,KAfH,CAeUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAhB,MAAAA,OAAO;AACR,KAlBH;AAmBD,GApBD;AAqBD,CAtBM","sourcesContent":["import { firestore } from \"../../firebase\";\r\n\r\nexport const loadCategoryPage = (category, onSuccess, onError) => {\r\n  return (dispatch, getstate) => {\r\n    firestore\r\n      .collection(\"CATEGORIES\")\r\n      .doc(category)\r\n      .collection(\"TOP_DEALS\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let pagedata = [];\r\n        if (!querySnapshot.empty) {\r\n          querySnapshot.forEach((doc) => {\r\n            pagedata.push(doc.data());\r\n          });\r\n          dispatch({ type: \"LOAD_PAGE\", payload: pagedata, category });\r\n          onSuccess();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        onError();\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}